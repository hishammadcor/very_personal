<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>For Anan ğŸ’•</title>
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Aref+Ruqaa:wght@400;700&display=swap" rel="stylesheet">
  
  <style>
    /* RESET & BASE */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { 
      font-family: Georgia, serif; 
      overflow-x: hidden; 
      -webkit-tap-highlight-color: transparent;
      background-color: #fce4ec;
    }
    
    /* PAGE LAYOUT */
    .page { 
      min-height: 100vh; 
      min-height: 100dvh; 
      width: 100%;
      display: flex; 
      flex-direction: column; 
      align-items: center; 
      justify-content: center; 
      padding: 20px; 
      position: relative; 
      background: linear-gradient(135deg, #fce4ec 0%, #f8bbd9 25%, #e91e63 50%, #c2185b 75%, #880e4f 100%); 
      overflow-y: auto; 
    }
    
    .hidden { display: none !important; }
    
    /* CARDS */
    .card { 
      background: linear-gradient(145deg, rgba(255,255,255,0.95), rgba(252,228,236,0.95)); 
      border: 3px solid #c2185b; 
      border-radius: 24px; 
      padding: 30px 20px; 
      max-width: 500px; 
      width: 100%; 
      text-align: center; 
      position: relative; 
      z-index: 10; 
      box-shadow: 0 20px 60px rgba(0,0,0,0.2);
      margin: auto 0;
    }
    
    .card2 { 
      max-width: 700px; 
      padding: 24px; 
      animation: fadeIn 1s ease-out, glow 2s ease-in-out infinite; 
    }
    
    /* TYPOGRAPHY */
    h1 { font-size: 1.8rem; color: #880e4f; margin-bottom: 12px; line-height: 1.2; }
    h2 { font-size: 1.6rem; color: #880e4f; margin-bottom: 12px; }
    
    .divider { width: 100px; height: 4px; background: linear-gradient(90deg, #f48fb1, #c2185b, #f48fb1); margin: 12px auto; border-radius: 4px; }
    .subtitle { font-size: 1.1rem; color: #ad1457; margin-bottom: 8px; }
    .date { font-size: 2rem; font-weight: bold; color: #880e4f; margin-bottom: 16px; }
    .question { font-size: 1.1rem; color: #c2185b; font-style: italic; margin-bottom: 24px; line-height: 1.5; }
    .hint { font-size: 0.85rem; color: #c2185b; font-style: italic; margin-top: 20px; opacity: 0.8; }
    
    /* BUTTONS */
    .buttons { 
      display: flex; 
      justify-content: center; 
      gap: 20px; 
      align-items: center; 
      min-height: 60px; 
      position: relative; 
      width: 100%;
    }
    
    .btn-yes { 
      padding: 12px 30px; 
      background: linear-gradient(135deg, #e91e63, #c2185b, #880e4f); 
      color: white; 
      font-size: 1.1rem; 
      font-weight: 600; 
      border: none; 
      border-radius: 50px; 
      cursor: pointer; 
      box-shadow: 0 4px 15px rgba(194,24,91,0.4); 
      transition: transform 0.2s, box-shadow 0.2s; 
      z-index: 10;
    }
    
    .btn-yes:active { transform: scale(0.95); }
    
    .btn-no { 
      padding: 12px 30px; 
      background: #d7ccc8; 
      color: #888; 
      font-size: 1.1rem; 
      font-weight: 600; 
      border: none; 
      border-radius: 50px; 
      cursor: pointer; 
      position: relative; 
      transition: transform 0.2s ease-out;
      z-index: 5;
    }
    
    /* PHOTOS */
    .photos { 
      display: flex; 
      justify-content: center; 
      gap: 15px; 
      margin-bottom: 20px; 
      flex-wrap: wrap; 
    }
    
    .photo { 
      width: 140px; 
      height: 190px; 
      border: 4px solid #c2185b; 
      border-radius: 16px; 
      overflow: hidden; 
      box-shadow: 0 8px 25px rgba(0,0,0,0.15); 
      background-color: #f8bbd9;
    }
    
    .photo img { width: 100%; height: 100%; object-fit: cover; }
    
    /* ARABIC TEXT */
    .arabic-box { 
      background: linear-gradient(135deg, rgba(136,14,79,0.05), rgba(194,24,91,0.05)); 
      border: 2px solid #f48fb1; 
      border-radius: 16px; 
      padding: 16px; 
      margin-bottom: 16px; 
    }
    
    /* FONT SETTING: 
      Tries to use "Shafiqa" if installed on device. 
      If not, uses "Aref Ruqaa" (Calligraphic style) or "Amiri" (Standard style). 
    */
    .arabic-text { 
      font-family: 'Shafiqa', 'Aref Ruqaa', 'Amiri', serif; 
      font-size: 1.2rem; 
      direction: rtl; 
      color: #880e4f; 
      line-height: 1.8; 
    }
    
    .more-text { 
      font-family: 'Shafiqa', 'Aref Ruqaa', 'Amiri', serif; 
      color: #c2185b; 
      margin-top: 12px; 
      font-size: 1rem; 
    }
    
    /* ANIMATIONS & ICONS */
    .footer { color: #880e4f; display: flex; align-items: center; justify-content: center; gap: 8px; font-size: 1rem; }
    
    .heart-icon { font-size: 2.5rem; display: flex; justify-content: center; align-items: center; gap: 10px; margin-bottom: 15px; }
    .heart-icon svg { width: 45px; height: 45px; }
    
    .pulse { animation: pulse 1s ease-in-out infinite; }
    .big-heart { font-size: 5rem; animation: pulse 0.5s ease-in-out infinite; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 100; }

    /* GLORY MOMENT */
    .glory-overlay {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      display: flex; flex-direction: column; align-items: center; justify-content: center;
      z-index: 150; pointer-events: none;
    }
    .glory-text {
      font-family: Georgia, 'Times New Roman', serif;
      font-size: 4rem; font-weight: bold; font-style: italic;
      color: #fff; text-shadow: 0 0 20px rgba(233,30,99,0.9), 0 0 40px rgba(194,24,91,0.7), 0 0 80px rgba(136,14,79,0.5), 0 4px 8px rgba(0,0,0,0.3);
      opacity: 0; transform: scale(0.3);
      transition: opacity 1s ease-out, transform 1s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      text-align: center; line-height: 1.3; padding: 0 20px;
    }
    .glory-text.show { opacity: 1; transform: scale(1); }
    .glory-text.fade-out { opacity: 0; transform: scale(1.2); transition: opacity 1s ease-in, transform 1s ease-in; }

    /* COUNTDOWN */
    .countdown-section {
      background: linear-gradient(135deg, rgba(136,14,79,0.08), rgba(194,24,91,0.08));
      border: 2px solid #f48fb1; border-radius: 16px;
      padding: 16px; margin-bottom: 16px;
    }
    .countdown-label {
      font-family: 'Aref Ruqaa', Georgia, serif;
      font-size: 1rem; color: #ad1457; margin-bottom: 10px;
    }
    .countdown-digits {
      display: flex; justify-content: center; gap: 8px; flex-wrap: wrap;
    }
    .countdown-unit {
      background: linear-gradient(135deg, #e91e63, #c2185b);
      color: white; border-radius: 12px; padding: 8px 10px; min-width: 60px;
      box-shadow: 0 4px 12px rgba(194,24,91,0.3);
    }
    .countdown-unit .num { font-size: 1.5rem; font-weight: bold; display: block; }
    .countdown-unit .lbl { font-size: 0.65rem; text-transform: uppercase; opacity: 0.9; display: block; }
    
    /* BACKGROUND ELEMENTS */
    .flower { position: absolute; pointer-events: none; z-index: 0; }
    .bg-flower { opacity: 0.4; animation: bounce 4s ease-in-out infinite; }
    
    #explosionContainer, #fallingContainer { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 100; overflow: hidden; }
    .explosion-flower { position: absolute; }
    .falling-flower { position: absolute; top: -60px; }
    
    /* RESPONSIVE BREAKPOINTS */
    @media (min-width: 500px) {
      .card { padding: 40px; }
      h1 { font-size: 2.5rem; }
      h2 { font-size: 2rem; }
      .photo { width: 180px; height: 240px; }
      .arabic-text { font-size: 1.4rem; }
      .glory-text { font-size: 5rem; }
      .countdown-unit { min-width: 70px; padding: 10px 14px; }
      .countdown-unit .num { font-size: 1.8rem; }
      .countdown-unit .lbl { font-size: 0.7rem; }
    }
    
    @media (max-width: 360px) {
      h1 { font-size: 1.5rem; }
      .date { font-size: 1.5rem; }
      .btn-yes, .btn-no { padding: 10px 20px; font-size: 1rem; }
      .photo { width: 120px; height: 160px; }
      .glory-text { font-size: 2.5rem; }
      .countdown-unit { min-width: 50px; padding: 6px 8px; }
      .countdown-unit .num { font-size: 1.2rem; }
    }

    @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-15px); } }
    @keyframes pulse-icon { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.1); } }
    @keyframes fadeIn { 0% { opacity: 0; transform: scale(0.9); } 100% { opacity: 1; transform: scale(1); } }
    @keyframes glow { 0%, 100% { box-shadow: 0 0 20px rgba(194,24,91,0.5); } 50% { box-shadow: 0 0 40px rgba(194,24,91,0.8); } }
    @keyframes falling { 
      0% { transform: translateY(0) rotate(0deg); opacity: 1; } 
      100% { transform: translateY(110vh) rotate(360deg); opacity: 0; } 
    }
  </style>
</head>
<body>

  <div id="page1" class="page">
    <div id="bgFlowers1"></div>
    <div class="card">
      <div class="heart-icon">
        <svg viewBox="0 0 100 100"><ellipse cx="50" cy="45" rx="20" ry="18" fill="#8B0000"/><ellipse cx="42" cy="42" rx="15" ry="14" fill="#B22222"/><ellipse cx="58" cy="42" rx="15" ry="14" fill="#B22222"/><ellipse cx="50" cy="35" rx="12" ry="12" fill="#DC143C"/><ellipse cx="45" cy="50" rx="14" ry="12" fill="#8B0000"/><ellipse cx="55" cy="50" rx="14" ry="12" fill="#8B0000"/><ellipse cx="50" cy="40" rx="8" ry="10" fill="#FF6B6B"/><path d="M50 58 Q50 75 50 90" stroke="#228B22" stroke-width="3" fill="none"/><ellipse cx="38" cy="70" rx="6" ry="4" fill="#2E8B2E"/></svg>
        <span>ğŸ’•</span>
        <svg viewBox="0 0 100 100"><ellipse cx="50" cy="45" rx="20" ry="18" fill="#DB7093"/><ellipse cx="42" cy="42" rx="15" ry="14" fill="#FF69B4"/><ellipse cx="58" cy="42" rx="15" ry="14" fill="#FF69B4"/><ellipse cx="50" cy="35" rx="12" ry="12" fill="#FFB6C1"/><ellipse cx="45" cy="50" rx="14" ry="12" fill="#DB7093"/><ellipse cx="55" cy="50" rx="14" ry="12" fill="#DB7093"/><ellipse cx="50" cy="40" rx="8" ry="10" fill="#FFC0CB"/><path d="M50 58 Q50 75 50 90" stroke="#228B22" stroke-width="3" fill="none"/><ellipse cx="62" cy="70" rx="6" ry="4" fill="#2E8B2E"/></svg>
      </div>
      <h1>Hello Hello Anan</h1>
      <div class="divider"></div>
      <p class="subtitle">I did not forget our special day</p>
      <p class="date">âœ¨ 13.02 âœ¨</p>
      <p class="question">Would you like to continue forward in this relationship?</p>
      
      <div class="buttons">
        <button class="btn-yes" onclick="showPage2()">Yes ğŸ’–</button>
        <button class="btn-no" id="noBtn">No ğŸ˜¢</button>
      </div>
      
      <p class="hint">(There's only one right answer ğŸ˜‰)</p>
    </div>
  </div>

  <!-- Hidden SoundCloud player for Fairuz -->
  <iframe id="sc-player" style="display:none" allow="autoplay"
    src="https://w.soundcloud.com/player/?url=https%3A%2F%2Fsoundcloud.com%2Ffairouz-music%2Fkan-endena-tahoun-sahar-el&auto_play=false&show_artwork=false">
  </iframe>
  <script src="https://w.soundcloud.com/player/api.js"></script>

  <div id="page2" class="page hidden">
    <div id="explosionContainer"></div>
    <div id="fallingContainer"></div>
    <div class="glory-overlay" id="gloryOverlay">
      <div class="glory-text" id="gloryText">She said yes ğŸ’</div>
    </div>
    <div id="loadingHeart" class="big-heart">ğŸ’•</div>
    
    <div id="content" class="card card2 hidden">
      <div class="heart-icon pulse">
        <svg viewBox="0 0 100 100"><ellipse cx="50" cy="45" rx="20" ry="18" fill="#8B0000"/><ellipse cx="42" cy="42" rx="15" ry="14" fill="#B22222"/><ellipse cx="58" cy="42" rx="15" ry="14" fill="#B22222"/><ellipse cx="50" cy="35" rx="12" ry="12" fill="#DC143C"/><ellipse cx="45" cy="50" rx="14" ry="12" fill="#8B0000"/><ellipse cx="55" cy="50" rx="14" ry="12" fill="#8B0000"/><ellipse cx="50" cy="40" rx="8" ry="10" fill="#FF6B6B"/></svg>
        <span>ğŸ’</span>
        <svg viewBox="0 0 100 100"><ellipse cx="50" cy="45" rx="20" ry="18" fill="#DB7093"/><ellipse cx="42" cy="42" rx="15" ry="14" fill="#FF69B4"/><ellipse cx="58" cy="42" rx="15" ry="14" fill="#FF69B4"/><ellipse cx="50" cy="35" rx="12" ry="12" fill="#FFB6C1"/><ellipse cx="45" cy="50" rx="14" ry="12" fill="#DB7093"/><ellipse cx="55" cy="50" rx="14" ry="12" fill="#DB7093"/><ellipse cx="50" cy="40" rx="8" ry="10" fill="#FFC0CB"/></svg>
      </div>
      
      <h2>Hesham & Anan</h2>
      
      <div class="photos">
        <div class="photo"><img src="https://i.postimg.cc/MKJLJxvF/40dbc575-3ebe-4719-887d-347b4f1e53b3.jpg" alt="Rings"></div>
        <div class="photo"><img src="https://i.postimg.cc/Nj4SxVG6/06649a69-7a8a-4253-82bc-62472303441f.jpg" alt="Cake"></div>
      </div>
      
      <div class="arabic-box">
        <p class="arabic-text">Ù„Ù‚Ø¯ Ù…Ø± Ù‚Ø±Ø§Ø¨Ø© Ø§Ù„Ø´Ù‡Ø± Ø¹Ù„Ù‰ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©. ÙØ§Ù„Ù„Ù‡Ù… Ø§ØªÙ…Ù…Ù‡Ø§ Ø¨Ø§Ù„Ø®ÙŠØ± ÙˆØ§Ø±Ø²Ù‚Ù†Ø§ Ø§Ù„ØµÙ„Ø§Ø­ ÙˆØ§Ù„ÙÙ„Ø§Ø­ ÙÙŠ Ø§Ù„Ø¯Ù†ÙŠØ§ ÙˆØ§Ù„Ø¢Ø®Ø±Ø©. Ø§Ù„Ù„Ù‡Ù… Ø¨Ø§Ø±Ùƒ ÙÙŠÙ‡Ø§ ÙˆÙÙŠ ÙˆØ§Ø­ÙØ¸Ù†Ø§ Ø¨Ø­ÙØ¸Ùƒ ÙˆØ¹ÙŠÙ†Ùƒ Ø§Ù„ØªÙŠ Ù„Ø§ ØªÙ†Ø§Ù….</p>
        <div class="more-text">ğŸŒ· More to come after signaturesâ€¦ ğŸŒ·</div>
      </div>
      
      <div class="countdown-section">
        <div class="countdown-label">ğŸ’• Together since 23.01 ğŸ’•</div>
        <div class="countdown-digits" id="countdown">
          <div class="countdown-unit"><span class="num" id="cd-days">0</span><span class="lbl">Days</span></div>
          <div class="countdown-unit"><span class="num" id="cd-hours">0</span><span class="lbl">Hours</span></div>
          <div class="countdown-unit"><span class="num" id="cd-mins">0</span><span class="lbl">Minutes</span></div>
          <div class="countdown-unit"><span class="num" id="cd-secs">0</span><span class="lbl">Seconds</span></div>
        </div>
      </div>

      <div class="footer"><span>ğŸ’•</span><span>13.02</span><span>ğŸ’•</span></div>
    </div>
  </div>

  <script>
    /* ----- SVG DATA ----- */
    const flowerSVGs = [
      `<svg width="SIZE" height="SIZE" viewBox="0 0 100 100"><ellipse cx="50" cy="45" rx="20" ry="18" fill="#8B0000"/><ellipse cx="42" cy="42" rx="15" ry="14" fill="#B22222"/><ellipse cx="58" cy="42" rx="15" ry="14" fill="#B22222"/><ellipse cx="50" cy="35" rx="12" ry="12" fill="#DC143C"/><ellipse cx="45" cy="50" rx="14" ry="12" fill="#8B0000"/><ellipse cx="55" cy="50" rx="14" ry="12" fill="#8B0000"/><ellipse cx="50" cy="40" rx="8" ry="10" fill="#FF6B6B"/><path d="M50 58 Q50 75 50 90" stroke="#228B22" stroke-width="3" fill="none"/><ellipse cx="38" cy="70" rx="6" ry="4" fill="#2E8B2E"/></svg>`,
      `<svg width="SIZE" height="SIZE" viewBox="0 0 100 100"><ellipse cx="50" cy="45" rx="20" ry="18" fill="#DB7093"/><ellipse cx="42" cy="42" rx="15" ry="14" fill="#FF69B4"/><ellipse cx="58" cy="42" rx="15" ry="14" fill="#FF69B4"/><ellipse cx="50" cy="35" rx="12" ry="12" fill="#FFB6C1"/><ellipse cx="45" cy="50" rx="14" ry="12" fill="#DB7093"/><ellipse cx="55" cy="50" rx="14" ry="12" fill="#DB7093"/><ellipse cx="50" cy="40" rx="8" ry="10" fill="#FFC0CB"/><path d="M50 58 Q50 75 50 90" stroke="#228B22" stroke-width="3" fill="none"/><ellipse cx="62" cy="70" rx="6" ry="4" fill="#2E8B2E"/></svg>`,
      `<svg width="SIZE" height="SIZE" viewBox="0 0 100 100"><path d="M35 50 Q30 30 40 20 Q50 10 50 25" fill="#DC143C"/><path d="M65 50 Q70 30 60 20 Q50 10 50 25" fill="#B22222"/><path d="M40 55 Q45 25 50 20 Q55 25 60 55" fill="#FF4444"/><path d="M50 50 Q50 70 50 90" stroke="#228B22" stroke-width="4" fill="none"/><ellipse cx="32" cy="66" rx="8" ry="4" fill="#2E8B2E"/></svg>`,
      `<svg width="SIZE" height="SIZE" viewBox="0 0 100 100"><path d="M35 50 Q30 30 40 20 Q50 10 50 25" fill="#FF69B4"/><path d="M65 50 Q70 30 60 20 Q50 10 50 25" fill="#DB7093"/><path d="M40 55 Q45 25 50 20 Q55 25 60 55" fill="#FFB6C1"/><path d="M50 50 Q50 70 50 90" stroke="#228B22" stroke-width="4" fill="none"/><ellipse cx="32" cy="66" rx="8" ry="4" fill="#2E8B2E"/></svg>`
    ];

    function getFlower(size) {
      const svg = flowerSVGs[Math.floor(Math.random() * flowerSVGs.length)];
      return svg.replace(/SIZE/g, size);
    }

    /* ----- RUNAWAY BUTTON LOGIC ----- */
    const noBtn = document.getElementById('noBtn');
    
    function moveNoBtn(e) {
      // Prevent click if touch/mouse
      if(e) e.preventDefault();
      
      const card = document.querySelector('.card');
      const cardRect = card.getBoundingClientRect();
      
      // Calculate random movement
      const rangeX = 120; // range in pixels
      const rangeY = 120;
      
      const randomX = (Math.random() - 0.5) * rangeX * 2;
      const randomY = (Math.random() - 0.5) * rangeY * 2;

      noBtn.style.transform = `translate(${randomX}px, ${randomY}px)`;
    }
    
    // Desktop mouse interaction
    noBtn.addEventListener('mouseover', moveNoBtn);
    
    // Mobile touch interaction
    noBtn.addEventListener('touchstart', moveNoBtn, { passive: false });
    
    // Fallback click
    noBtn.addEventListener('click', moveNoBtn);

    /* ----- AUDIO (SoundCloud Widget API) ----- */
    const SONG_START_MS = 79000;  // 1:19
    const SONG_END_MS   = 120000; // 2:00
    let scWidget = null;
    let scReady = false;
    let scPlayRequested = false;

    try {
      const iframeEl = document.getElementById('sc-player');
      scWidget = SC.Widget(iframeEl);
      scWidget.bind(SC.Widget.Events.READY, function() {
        scReady = true;
        scWidget.setVolume(80);
        if (scPlayRequested) doPlay();
      });
      scWidget.bind(SC.Widget.Events.PLAY_PROGRESS, function(data) {
        if (data.currentPosition >= SONG_END_MS) {
          scWidget.pause();
        }
      });
    } catch(e) { /* SoundCloud not critical */ }

    function doPlay() {
      try {
        scWidget.play();
        scWidget.seekTo(SONG_START_MS);
      } catch(e) {}
    }

    function playFairuz() {
      if (scReady) {
        doPlay();
      } else {
        scPlayRequested = true;
      }
    }

    /* ----- PAGE TRANSITIONS ----- */
    function showPage2() {
      const p1 = document.getElementById('page1');
      const p2 = document.getElementById('page2');

      p1.classList.add('hidden');
      p2.classList.remove('hidden');

      // 1. Start Explosion + play song
      setTimeout(createExplosion, 50);
      playFairuz();

      // 2. Show "She said yes" glory text
      setTimeout(() => {
        document.getElementById('gloryText').classList.add('show');
      }, 300);

      // 3. Fade out glory text
      setTimeout(() => {
        document.getElementById('gloryText').classList.remove('show');
        document.getElementById('gloryText').classList.add('fade-out');
      }, 3000);

      // 4. Hide loading heart & glory, show Card 2
      setTimeout(() => {
        document.getElementById('loadingHeart').classList.add('hidden');
        document.getElementById('gloryOverlay').classList.add('hidden');
        const content = document.getElementById('content');
        content.classList.remove('hidden');

        // Start falling flowers continuously
        createFallingFlowers();

        // Start countdown
        startCountdown();
      }, 4000);
    }

    /* ----- ANIMATIONS ----- */
    function createExplosion() {
      const container = document.getElementById('explosionContainer');
      const centerX = window.innerWidth / 2;
      const centerY = window.innerHeight / 2;
      const isMobile = window.innerWidth < 500;
      const flowerCount = isMobile ? 50 : 80;
      
      for (let i = 0; i < flowerCount; i++) {
        const angle = Math.random() * Math.PI * 2;
        const velocity = 150 + Math.random() * (isMobile ? 200 : 350);
        const size = isMobile ? (20 + Math.random() * 20) : (30 + Math.random() * 30);
        
        const div = document.createElement('div');
        div.className = 'explosion-flower';
        div.innerHTML = getFlower(size);
        div.style.left = (centerX - size/2) + 'px';
        div.style.top = (centerY - size/2) + 'px';
        div.style.opacity = '0';
        div.style.transform = 'scale(0)';
        
        container.appendChild(div);
        
        const duration = 1.5 + Math.random();
        const targetX = Math.cos(angle) * velocity;
        const targetY = Math.sin(angle) * velocity;
        const rotation = Math.random() * 720 - 360;
        
        div.offsetHeight; // Force reflow
        
        div.style.transition = `all ${duration}s cubic-bezier(0.1, 0.8, 0.2, 1)`;
        div.style.opacity = '1';
        div.style.transform = `translate(${targetX}px, ${targetY}px) rotate(${rotation}deg) scale(1)`;
        
        setTimeout(() => { div.style.opacity = '0'; }, duration * 0.7 * 1000);
        setTimeout(() => { div.remove(); }, duration * 1000 + 100);
      }
    }

    function createFallingFlowers() {
      const container = document.getElementById('fallingContainer');
      const isMobile = window.innerWidth < 500;
      
      setInterval(() => {
        const size = isMobile ? (20 + Math.random() * 15) : (25 + Math.random() * 25);
        const div = document.createElement('div');
        div.className = 'falling-flower';
        div.innerHTML = getFlower(size);
        div.style.left = Math.random() * 100 + '%';
        
        const duration = 6 + Math.random() * 4;
        div.style.animation = `falling ${duration}s linear forwards`;
        
        container.appendChild(div);
        setTimeout(() => { div.remove(); }, duration * 1000);
      }, 300);
    }

    /* ----- BACKGROUND DECOR ----- */
    const bgContainer = document.getElementById('bgFlowers1');
    const bgCount = window.innerWidth < 500 ? 10 : 20;
    
    for(let i=0; i<bgCount; i++){
      const div = document.createElement('div');
      div.className = 'flower bg-flower';
      const size = 30 + Math.random() * 30;
      div.innerHTML = getFlower(size);
      div.style.left = Math.random() * 100 + '%';
      div.style.top = Math.random() * 100 + '%';
      div.style.animationDelay = Math.random() * 4 + 's';
      bgContainer.appendChild(div);
    }

    /* ----- COUNTDOWN TIMER ----- */
    // 23 Jan 2026, 18:15 Egyptian time (UTC+2) = 16:15 UTC
    const START_DATE = new Date(Date.UTC(2026, 0, 23, 16, 15, 0));

    function updateCountdown() {
      const now = new Date();
      let diff = Math.floor((now - START_DATE) / 1000);
      if (diff < 0) diff = 0;

      const days  = Math.floor(diff / 86400);
      const hours = Math.floor((diff % 86400) / 3600);
      const mins  = Math.floor((diff % 3600) / 60);
      const secs  = diff % 60;

      document.getElementById('cd-days').textContent  = days;
      document.getElementById('cd-hours').textContent = String(hours).padStart(2, '0');
      document.getElementById('cd-mins').textContent  = String(mins).padStart(2, '0');
      document.getElementById('cd-secs').textContent  = String(secs).padStart(2, '0');
    }

    function startCountdown() {
      updateCountdown();
      setInterval(updateCountdown, 1000);
    }
  </script>
</body>
</html>
